[2016-03-29 17:36:24,528][INFO ][node                     ] [Troll] version[3.0.0-SNAPSHOT], pid[28087], build[ee1aa82/2016-03-29T21:22:11.347Z]
[2016-03-29 17:36:24,528][INFO ][node                     ] [Troll] initializing ...
[2016-03-29 17:36:24,762][INFO ][plugins                  ] [Troll] modules [lang-groovy], plugins [], sites []
[2016-03-29 17:36:24,780][INFO ][env                      ] [Troll] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [236.4gb], net total_space [370.9gb], spins? [unknown], types [hfs]
[2016-03-29 17:36:24,781][INFO ][env                      ] [Troll] heap size [989.8mb], compressed ordinary object pointers [true]
[2016-03-29 17:36:26,290][INFO ][node                     ] [Troll] initialized
[2016-03-29 17:36:26,290][INFO ][node                     ] [Troll] starting ...
[2016-03-29 17:36:26,347][INFO ][transport                ] [Troll] publish_address {127.0.0.1:49535}, bound_addresses {[fe80::1]:49533}, {[::1]:49534}, {127.0.0.1:49535}
[2016-03-29 17:36:26,354][INFO ][discovery                ] [Troll] modules_lang-groovy_integTest/wLdJeqHvQyO-f5rbe0deXA
[2016-03-29 17:36:29,385][INFO ][cluster.service          ] [Troll] new_master {Troll}{wLdJeqHvQyO-f5rbe0deXA}{127.0.0.1}{127.0.0.1:49535}[testattr=>test], reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-03-29 17:36:29,399][INFO ][http                     ] [Troll] publish_address {127.0.0.1:49544}, bound_addresses {[fe80::1]:49542}, {[::1]:49543}, {127.0.0.1:49544}
[2016-03-29 17:36:29,401][INFO ][node                     ] [Troll] started
[2016-03-29 17:36:29,409][INFO ][gateway                  ] [Troll] recovered [0] indices into cluster_state
[2016-03-29 17:36:31,120][INFO ][cluster.metadata         ] [Troll] [test_1] creating index, cause [auto(update api)], templates [], shards [5]/[1], mappings []
[2016-03-29 17:36:31,275][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test_1][4]] ...]).
[2016-03-29 17:36:31,279][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, type=test}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: DocumentMissingException[[test][1]: document missing];
Caused by: [test_1][[test_1][3]] DocumentMissingException[[test][1]: document missing]
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:90)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,283][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, type=test}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: DocumentMissingException[[test][1]: document missing];
Caused by: [test_1][[test_1][3]] DocumentMissingException[[test][1]: document missing]
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:90)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,662][INFO ][cluster.metadata         ] [Troll] [.scripts] creating index, cause [auto(index api)], templates [], shards [1]/[0], mappings [groovy]
[2016-03-29 17:36:31,673][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [GREEN] (reason: [shards started [[.scripts][0]] ...]).
[2016-03-29 17:36:31,813][DEBUG][action.get               ] [Troll] null: failed to execute [get [.scripts][groovy][1]: routing [null]]
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/read/get[s]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]]
	at org.elasticsearch.index.engine.Engine.getFromSearcher(Engine.java:311)
	at org.elasticsearch.index.engine.InternalEngine.get(InternalEngine.java:337)
	at org.elasticsearch.index.shard.IndexShard.get(IndexShard.java:538)
	at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:179)
	at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:92)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:101)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:44)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:288)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:281)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,814][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {id=1, lang=groovy, version=3}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/read/get[s]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]]
	at org.elasticsearch.index.engine.Engine.getFromSearcher(Engine.java:311)
	at org.elasticsearch.index.engine.InternalEngine.get(InternalEngine.java:337)
	at org.elasticsearch.index.shard.IndexShard.get(IndexShard.java:538)
	at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:179)
	at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:92)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:101)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:44)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:288)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:281)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,817][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {id=1, lang=groovy, version=3}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/delete[p]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [3]]
	at org.elasticsearch.index.engine.InternalEngine.innerDelete(InternalEngine.java:468)
	at org.elasticsearch.index.engine.InternalEngine.delete(InternalEngine.java:426)
	at org.elasticsearch.index.shard.IndexShard.delete(IndexShard.java:523)
	at org.elasticsearch.action.delete.TransportDeleteAction.executeDeleteRequestOnPrimary(TransportDeleteAction.java:136)
	at org.elasticsearch.action.delete.TransportDeleteAction.shardOperationOnPrimary(TransportDeleteAction.java:129)
	at org.elasticsearch.action.delete.TransportDeleteAction.shardOperationOnPrimary(TransportDeleteAction.java:53)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,826][DEBUG][action.get               ] [Troll] null: failed to execute [get [.scripts][groovy][1]: routing [null]]
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/read/get[s]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [10]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [10]]
	at org.elasticsearch.index.engine.Engine.getFromSearcher(Engine.java:311)
	at org.elasticsearch.index.engine.InternalEngine.get(InternalEngine.java:337)
	at org.elasticsearch.index.shard.IndexShard.get(IndexShard.java:538)
	at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:179)
	at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:92)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:101)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:44)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:288)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:281)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,827][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {version_type=external_gte, id=1, lang=groovy, version=10}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/read/get[s]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [10]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is different than the one provided [10]]
	at org.elasticsearch.index.engine.Engine.getFromSearcher(Engine.java:311)
	at org.elasticsearch.index.engine.InternalEngine.get(InternalEngine.java:337)
	at org.elasticsearch.index.shard.IndexShard.get(IndexShard.java:538)
	at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:179)
	at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:92)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:101)
	at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:44)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:288)
	at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:281)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,829][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {version_type=external, id=1, lang=groovy, version=3}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/delete[p]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [3]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [3]]
	at org.elasticsearch.index.engine.InternalEngine.innerDelete(InternalEngine.java:468)
	at org.elasticsearch.index.engine.InternalEngine.delete(InternalEngine.java:426)
	at org.elasticsearch.index.shard.IndexShard.delete(IndexShard.java:523)
	at org.elasticsearch.action.delete.TransportDeleteAction.executeDeleteRequestOnPrimary(TransportDeleteAction.java:136)
	at org.elasticsearch.action.delete.TransportDeleteAction.shardOperationOnPrimary(TransportDeleteAction.java:129)
	at org.elasticsearch.action.delete.TransportDeleteAction.shardOperationOnPrimary(TransportDeleteAction.java:53)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,841][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {version_type=external, id=1, lang=groovy, version=5}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/index[p]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [5]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [5]]
	at org.elasticsearch.index.engine.InternalEngine.innerIndex(InternalEngine.java:385)
	at org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:351)
	at org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:480)
	at org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:216)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:156)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:64)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,850][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {version_type=external, id=1, lang=groovy, version=0}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/index[p]]]; nested: VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [0]];
Caused by: [.scripts][[.scripts][0]] VersionConflictEngineException[[groovy][1]: version conflict, current version [5] is higher or equal to the one provided [0]]
	at org.elasticsearch.index.engine.InternalEngine.innerIndex(InternalEngine.java:385)
	at org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:351)
	at org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:480)
	at org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:216)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:156)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:64)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:31,899][INFO ][cluster.metadata         ] [Troll] [test_1] creating index, cause [auto(index api)], templates [], shards [5]/[1], mappings [test]
[2016-03-29 17:36:31,920][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test_1][3], [test_1][0], [test_1][3], [test_1][0], [test_1][4]] ...]).
[2016-03-29 17:36:31,938][INFO ][cluster.metadata         ] [Troll] [test_1] update_mapping [test]
[2016-03-29 17:36:32,137][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, type=test}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: IllegalArgumentException[failed to execute script]; nested: IllegalArgumentException[script_lang not supported [doesnotexist]];
Caused by: java.lang.IllegalArgumentException: failed to execute script
	at org.elasticsearch.action.update.UpdateHelper.executeScript(UpdateHelper.java:256)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:196)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: script_lang not supported [doesnotexist]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.executable(ScriptService.java:441)
	at org.elasticsearch.action.update.UpdateHelper.executeScript(UpdateHelper.java:249)
	... 14 more
[2016-03-29 17:36:32,141][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, lang=doesnotexist, type=test, script=1}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: IllegalArgumentException[failed to execute script]; nested: IllegalArgumentException[script_lang not supported [doesnotexist]];
Caused by: java.lang.IllegalArgumentException: failed to execute script
	at org.elasticsearch.action.update.UpdateHelper.executeScript(UpdateHelper.java:256)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:196)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: script_lang not supported [doesnotexist]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.executable(ScriptService.java:441)
	at org.elasticsearch.action.update.UpdateHelper.executeScript(UpdateHelper.java:249)
	... 14 more
[2016-03-29 17:36:32,176][INFO ][cluster.metadata         ] [Troll] [.scripts] creating index, cause [auto(index api)], templates [], shards [1]/[0], mappings [groovy]
[2016-03-29 17:36:32,184][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [GREEN] (reason: [shards started [[.scripts][0]] ...]).
[2016-03-29 17:36:32,215][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {id=1, lang=groovy}
java.lang.IllegalArgumentException: Unable to parse [_score * foo bar + doc["myParent.weight"].value] lang [groovy]
	at org.elasticsearch.script.ScriptService.validate(ScriptService.java:379)
	at org.elasticsearch.script.ScriptService.putScriptToIndex(ScriptService.java:393)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:51)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:37)
	at org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:113)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:101)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:74)
	at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:65)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:57)
	at org.elasticsearch.rest.BaseRestHandler$HeadersAndContextCopyClient.doExecute(BaseRestHandler.java:88)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.support.AbstractClient.putIndexedScript(AbstractClient.java:535)
	at org.elasticsearch.rest.action.script.RestPutIndexedScriptAction.handleRequest(RestPutIndexedScriptAction.java:106)
	at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:58)
	at org.elasticsearch.rest.RestController.executeHandler(RestController.java:212)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:173)
	at org.elasticsearch.http.HttpServer.internalDispatchRequest(HttpServer.java:138)
	at org.elasticsearch.http.HttpServer$Dispatcher.dispatchRequest(HttpServer.java:96)
	at org.elasticsearch.http.netty.NettyHttpServerTransport.dispatchRequest(NettyHttpServerTransport.java:392)
	at org.elasticsearch.http.netty.HttpRequestHandler.messageReceived(HttpRequestHandler.java:67)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.http.netty.pipelining.HttpPipeliningHandler.messageReceived(HttpPipeliningHandler.java:85)
	at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:145)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpContentDecoder.messageReceived(HttpContentDecoder.java:108)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:459)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:83)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)
	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)
	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to compile groovy script]; nested: MultipleCompilationErrorsException[startup failed:
bfcc49c418d19d0ef5d2e015bfa20673c10b8529: 1: expecting EOF, found 'bar' @ line 1, column 14.
   _score * foo bar + doc["myParent.weight"].value
                ^

1 error
];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService.compile(GroovyScriptEngineService.java:199)
	at org.elasticsearch.script.ScriptService.validate(ScriptService.java:368)
	... 57 more
Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
bfcc49c418d19d0ef5d2e015bfa20673c10b8529: 1: expecting EOF, found 'bar' @ line 1, column 14.
   _score * foo bar + doc["myParent.weight"].value
                ^

1 error

	at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)
	at org.codehaus.groovy.control.ErrorCollector.addFatalError(ErrorCollector.java:150)
	at org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:120)
	at org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:132)
	at org.codehaus.groovy.control.SourceUnit.addError(SourceUnit.java:360)
	at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:145)
	at org.codehaus.groovy.antlr.AntlrParserPlugin.parseCST(AntlrParserPlugin.java:111)
	at org.codehaus.groovy.control.SourceUnit.parse(SourceUnit.java:237)
	at org.codehaus.groovy.control.CompilationUnit$1.call(CompilationUnit.java:167)
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:931)
	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:593)
	at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:569)
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:546)
	at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:254)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$3.run(GroovyScriptEngineService.java:192)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$3.run(GroovyScriptEngineService.java:185)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService.compile(GroovyScriptEngineService.java:185)
	... 58 more
[2016-03-29 17:36:32,219][INFO ][rest.suppressed          ] /_scripts/groovy/1 Params: {id=1, lang=groovy}
java.lang.IllegalArgumentException: Unable to parse [_score * foo bar + doc["myParent.weight"].value] lang [groovy]
	at org.elasticsearch.script.ScriptService.validate(ScriptService.java:379)
	at org.elasticsearch.script.ScriptService.putScriptToIndex(ScriptService.java:393)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:51)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:37)
	at org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:113)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:101)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:74)
	at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:65)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:57)
	at org.elasticsearch.rest.BaseRestHandler$HeadersAndContextCopyClient.doExecute(BaseRestHandler.java:88)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.support.AbstractClient.putIndexedScript(AbstractClient.java:535)
	at org.elasticsearch.rest.action.script.RestPutIndexedScriptAction.handleRequest(RestPutIndexedScriptAction.java:106)
	at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:58)
	at org.elasticsearch.rest.RestController.executeHandler(RestController.java:212)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:173)
	at org.elasticsearch.http.HttpServer.internalDispatchRequest(HttpServer.java:138)
	at org.elasticsearch.http.HttpServer$Dispatcher.dispatchRequest(HttpServer.java:96)
	at org.elasticsearch.http.netty.NettyHttpServerTransport.dispatchRequest(NettyHttpServerTransport.java:392)
	at org.elasticsearch.http.netty.HttpRequestHandler.messageReceived(HttpRequestHandler.java:67)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.http.netty.pipelining.HttpPipeliningHandler.messageReceived(HttpPipeliningHandler.java:85)
	at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:145)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpContentDecoder.messageReceived(HttpContentDecoder.java:108)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:459)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:83)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)
	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)
	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to compile groovy script]; nested: MultipleCompilationErrorsException[startup failed:
bfcc49c418d19d0ef5d2e015bfa20673c10b8529: 1: expecting EOF, found 'bar' @ line 1, column 14.
   _score * foo bar + doc["myParent.weight"].value
                ^

1 error
];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService.compile(GroovyScriptEngineService.java:199)
	at org.elasticsearch.script.ScriptService.validate(ScriptService.java:368)
	... 57 more
Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
bfcc49c418d19d0ef5d2e015bfa20673c10b8529: 1: expecting EOF, found 'bar' @ line 1, column 14.
   _score * foo bar + doc["myParent.weight"].value
                ^

1 error

	at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)
	at org.codehaus.groovy.control.ErrorCollector.addFatalError(ErrorCollector.java:150)
	at org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:120)
	at org.codehaus.groovy.control.ErrorCollector.addError(ErrorCollector.java:132)
	at org.codehaus.groovy.control.SourceUnit.addError(SourceUnit.java:360)
	at org.codehaus.groovy.antlr.AntlrParserPlugin.transformCSTIntoAST(AntlrParserPlugin.java:145)
	at org.codehaus.groovy.antlr.AntlrParserPlugin.parseCST(AntlrParserPlugin.java:111)
	at org.codehaus.groovy.control.SourceUnit.parse(SourceUnit.java:237)
	at org.codehaus.groovy.control.CompilationUnit$1.call(CompilationUnit.java:167)
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:931)
	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:593)
	at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:569)
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:546)
	at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:254)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$3.run(GroovyScriptEngineService.java:192)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$3.run(GroovyScriptEngineService.java:185)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService.compile(GroovyScriptEngineService.java:185)
	... 58 more
[2016-03-29 17:36:32,221][INFO ][rest.suppressed          ] /_scripts/foobar/1 Params: {id=1, lang=foobar}
java.lang.IllegalArgumentException: script_lang not supported [foobar]
	at org.elasticsearch.script.ScriptService.validateScriptLanguage(ScriptService.java:336)
	at org.elasticsearch.script.ScriptService.putScriptToIndex(ScriptService.java:391)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:51)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:37)
	at org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:113)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:101)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:74)
	at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:65)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:57)
	at org.elasticsearch.rest.BaseRestHandler$HeadersAndContextCopyClient.doExecute(BaseRestHandler.java:88)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.support.AbstractClient.putIndexedScript(AbstractClient.java:535)
	at org.elasticsearch.rest.action.script.RestPutIndexedScriptAction.handleRequest(RestPutIndexedScriptAction.java:106)
	at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:58)
	at org.elasticsearch.rest.RestController.executeHandler(RestController.java:212)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:173)
	at org.elasticsearch.http.HttpServer.internalDispatchRequest(HttpServer.java:138)
	at org.elasticsearch.http.HttpServer$Dispatcher.dispatchRequest(HttpServer.java:96)
	at org.elasticsearch.http.netty.NettyHttpServerTransport.dispatchRequest(NettyHttpServerTransport.java:392)
	at org.elasticsearch.http.netty.HttpRequestHandler.messageReceived(HttpRequestHandler.java:67)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.http.netty.pipelining.HttpPipeliningHandler.messageReceived(HttpPipeliningHandler.java:85)
	at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:145)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpContentDecoder.messageReceived(HttpContentDecoder.java:108)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:459)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:83)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)
	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)
	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:32,223][INFO ][rest.suppressed          ] /_scripts/foobar/1 Params: {id=1, lang=foobar}
java.lang.IllegalArgumentException: script_lang not supported [foobar]
	at org.elasticsearch.script.ScriptService.validateScriptLanguage(ScriptService.java:336)
	at org.elasticsearch.script.ScriptService.putScriptToIndex(ScriptService.java:391)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:51)
	at org.elasticsearch.action.indexedscripts.put.TransportPutIndexedScriptAction.doExecute(TransportPutIndexedScriptAction.java:37)
	at org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:113)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:101)
	at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:74)
	at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:65)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:57)
	at org.elasticsearch.rest.BaseRestHandler$HeadersAndContextCopyClient.doExecute(BaseRestHandler.java:88)
	at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:387)
	at org.elasticsearch.client.support.AbstractClient.putIndexedScript(AbstractClient.java:535)
	at org.elasticsearch.rest.action.script.RestPutIndexedScriptAction.handleRequest(RestPutIndexedScriptAction.java:106)
	at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:58)
	at org.elasticsearch.rest.RestController.executeHandler(RestController.java:212)
	at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:173)
	at org.elasticsearch.http.HttpServer.internalDispatchRequest(HttpServer.java:138)
	at org.elasticsearch.http.HttpServer$Dispatcher.dispatchRequest(HttpServer.java:96)
	at org.elasticsearch.http.netty.NettyHttpServerTransport.dispatchRequest(NettyHttpServerTransport.java:392)
	at org.elasticsearch.http.netty.HttpRequestHandler.messageReceived(HttpRequestHandler.java:67)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.http.netty.pipelining.HttpPipeliningHandler.messageReceived(HttpPipeliningHandler.java:85)
	at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:145)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.handler.codec.http.HttpContentDecoder.messageReceived(HttpContentDecoder.java:108)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:459)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)
	at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)
	at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)
	at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:83)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)
	at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)
	at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)
	at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)
	at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:32,252][INFO ][cluster.metadata         ] [Troll] [test_1] creating index, cause [auto(update api)], templates [], shards [5]/[1], mappings []
[2016-03-29 17:36:32,274][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test_1][4], [test_1][4]] ...]).
[2016-03-29 17:36:32,280][INFO ][cluster.metadata         ] [Troll] [test_1] create_mapping [test]
[2016-03-29 17:36:32,323][INFO ][cluster.metadata         ] [Troll] [test_1] creating index, cause [auto(update api)], templates [], shards [5]/[1], mappings []
[2016-03-29 17:36:32,344][INFO ][cluster.routing.allocation] [Troll] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test_1][0], [test_1][3], [test_1][3], [test_1][0], [test_1][4]] ...]).
[2016-03-29 17:36:32,349][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, type=test}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: DocumentMissingException[[test][1]: document missing];
Caused by: [test_1][[test_1][3]] DocumentMissingException[[test][1]: document missing]
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:90)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:36:32,351][INFO ][rest.suppressed          ] /test_1/test/1/_update Params: {index=test_1, id=1, type=test}
RemoteTransportException[[Troll][127.0.0.1:49535][indices:data/write/update[s]]]; nested: DocumentMissingException[[test][1]: document missing];
Caused by: [test_1][[test_1][3]] DocumentMissingException[[test][1]: document missing]
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:90)
	at org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:78)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:169)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:163)
	at org.elasticsearch.action.update.TransportUpdateAction.shardOperation(TransportUpdateAction.java:64)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:253)
	at org.elasticsearch.action.support.single.instance.TransportInstanceSingleOperationAction$ShardTransportHandler.messageReceived(TransportInstanceSingleOperationAction.java:249)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
