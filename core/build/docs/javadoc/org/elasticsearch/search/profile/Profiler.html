<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_11) on Tue Mar 29 17:22:25 EDT 2016 -->
<title>Profiler (core 3.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-03-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Profiler (core 3.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.TimingType.html" title="enum in org.elasticsearch.search.profile"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/search/profile/Profilers.html" title="class in org.elasticsearch.search.profile"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/search/profile/Profiler.html" target="_top">Frames</a></li>
<li><a href="Profiler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.search.profile</div>
<h2 title="Class Profiler" class="title">Class Profiler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.search.profile.Profiler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">Profiler</span>
extends java.lang.Object</pre>
<div class="block">This class acts as a thread-local storage for profiling a query.  It also
 builds a representation of the query tree which is built constructed
 "online" as the weights are wrapped by ContextIndexSearcher.  This allows us
 to know the relationship between nodes in tree without explicitly
 walking the tree or pre-wrapping everything

 A Profiler is associated with every Search, not per Search-Request. E.g. a
 request may execute two searches (query + global agg).  A Profiler just
 represents one of those</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#Profiler--">Profiler</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="../../../../org/elasticsearch/search/profile/ProfileShardResult.html" title="class in org.elasticsearch.search.profile">ProfileShardResult</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#buildShardResults-java.util.List-">buildShardResults</a></span>(java.util.List&lt;<a href="../../../../org/elasticsearch/search/profile/Profiler.html" title="class in org.elasticsearch.search.profile">Profiler</a>&gt;&nbsp;profilers)</code>
<div class="block">Helper method to convert Profiler into  InternalProfileShardResults, which can be
 serialized to other nodes, emitted as JSON, etc.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/search/profile/CollectorResult.html" title="class in org.elasticsearch.search.profile">CollectorResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#getCollector--">getCollector</a></span>()</code>
<div class="block">Return the current root Collector for this search</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.html" title="class in org.elasticsearch.search.profile">ProfileBreakdown</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#getQueryBreakdown-org.apache.lucene.search.Query-">getQueryBreakdown</a></span>(org.apache.lucene.search.Query&nbsp;query)</code>
<div class="block">Get the <a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.html" title="class in org.elasticsearch.search.profile"><code>ProfileBreakdown</code></a> for the given query, potentially creating it if it did not exist.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;org.elasticsearch.search.profile.ProfileResult&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#getQueryTree--">getQueryTree</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#getRewriteTime--">getRewriteTime</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#pollLastQuery--">pollLastQuery</a></span>()</code>
<div class="block">Removes the last (e.g.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#setCollector-org.elasticsearch.search.profile.InternalProfileCollector-">setCollector</a></span>(<a href="../../../../org/elasticsearch/search/profile/InternalProfileCollector.html" title="class in org.elasticsearch.search.profile">InternalProfileCollector</a>&nbsp;collector)</code>
<div class="block">Set the collector that is associated with this profiler.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#startRewriteTime--">startRewriteTime</a></span>()</code>
<div class="block">Begin timing the rewrite phase of a request.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/elasticsearch/search/profile/Profiler.html#stopAndAddRewriteTime--">stopAndAddRewriteTime</a></span>()</code>
<div class="block">Stop recording the current rewrite and add it's time to the total tally, returning the
 cumulative time so far.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Profiler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Profiler</h4>
<pre>public&nbsp;Profiler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setCollector-org.elasticsearch.search.profile.InternalProfileCollector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCollector</h4>
<pre>public&nbsp;void&nbsp;setCollector(<a href="../../../../org/elasticsearch/search/profile/InternalProfileCollector.html" title="class in org.elasticsearch.search.profile">InternalProfileCollector</a>&nbsp;collector)</pre>
<div class="block">Set the collector that is associated with this profiler.</div>
</li>
</ul>
<a name="getQueryBreakdown-org.apache.lucene.search.Query-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryBreakdown</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.html" title="class in org.elasticsearch.search.profile">ProfileBreakdown</a>&nbsp;getQueryBreakdown(org.apache.lucene.search.Query&nbsp;query)</pre>
<div class="block">Get the <a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.html" title="class in org.elasticsearch.search.profile"><code>ProfileBreakdown</code></a> for the given query, potentially creating it if it did not exist.
 This should only be used for queries that will be undergoing scoring. Do not use it to profile the
 rewriting phase</div>
</li>
</ul>
<a name="startRewriteTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRewriteTime</h4>
<pre>public&nbsp;void&nbsp;startRewriteTime()</pre>
<div class="block">Begin timing the rewrite phase of a request.  All rewrites are accumulated together into a
 single metric</div>
</li>
</ul>
<a name="stopAndAddRewriteTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopAndAddRewriteTime</h4>
<pre>public&nbsp;long&nbsp;stopAndAddRewriteTime()</pre>
<div class="block">Stop recording the current rewrite and add it's time to the total tally, returning the
 cumulative time so far.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cumulative rewrite time</dd>
</dl>
</li>
</ul>
<a name="pollLastQuery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pollLastQuery</h4>
<pre>public&nbsp;void&nbsp;pollLastQuery()</pre>
<div class="block">Removes the last (e.g. most recent) query on the stack.  This should only be called for scoring
 queries, not rewritten queries</div>
</li>
</ul>
<a name="getQueryTree--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryTree</h4>
<pre>public&nbsp;java.util.List&lt;org.elasticsearch.search.profile.ProfileResult&gt;&nbsp;getQueryTree()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a hierarchical representation of the profiled query tree</dd>
</dl>
</li>
</ul>
<a name="getRewriteTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRewriteTime</h4>
<pre>public&nbsp;long&nbsp;getRewriteTime()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>total time taken to rewrite all queries in this profile</dd>
</dl>
</li>
</ul>
<a name="getCollector--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCollector</h4>
<pre>public&nbsp;<a href="../../../../org/elasticsearch/search/profile/CollectorResult.html" title="class in org.elasticsearch.search.profile">CollectorResult</a>&nbsp;getCollector()</pre>
<div class="block">Return the current root Collector for this search</div>
</li>
</ul>
<a name="buildShardResults-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>buildShardResults</h4>
<pre>public static&nbsp;java.util.List&lt;<a href="../../../../org/elasticsearch/search/profile/ProfileShardResult.html" title="class in org.elasticsearch.search.profile">ProfileShardResult</a>&gt;&nbsp;buildShardResults(java.util.List&lt;<a href="../../../../org/elasticsearch/search/profile/Profiler.html" title="class in org.elasticsearch.search.profile">Profiler</a>&gt;&nbsp;profilers)</pre>
<div class="block">Helper method to convert Profiler into  InternalProfileShardResults, which can be
 serialized to other nodes, emitted as JSON, etc.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>profilers</code> - A list of Profilers to convert into InternalProfileShardResults</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of corresponding InternalProfileShardResults</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/elasticsearch/search/profile/ProfileBreakdown.TimingType.html" title="enum in org.elasticsearch.search.profile"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/elasticsearch/search/profile/Profilers.html" title="class in org.elasticsearch.search.profile"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/elasticsearch/search/profile/Profiler.html" target="_top">Frames</a></li>
<li><a href="Profiler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
