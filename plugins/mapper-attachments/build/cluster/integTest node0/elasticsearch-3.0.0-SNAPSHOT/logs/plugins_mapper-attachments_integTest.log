[2016-03-29 17:45:01,414][INFO ][node                     ] [Vamp] version[3.0.0-SNAPSHOT], pid[29311], build[ee1aa82/2016-03-29T21:22:11.347Z]
[2016-03-29 17:45:01,415][INFO ][node                     ] [Vamp] initializing ...
[2016-03-29 17:45:01,734][INFO ][plugins                  ] [Vamp] modules [], plugins [mapper-attachments], sites []
[2016-03-29 17:45:01,753][INFO ][env                      ] [Vamp] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [235.8gb], net total_space [370.9gb], spins? [unknown], types [hfs]
[2016-03-29 17:45:01,753][INFO ][env                      ] [Vamp] heap size [989.8mb], compressed ordinary object pointers [true]
[2016-03-29 17:45:03,195][INFO ][node                     ] [Vamp] initialized
[2016-03-29 17:45:03,195][INFO ][node                     ] [Vamp] starting ...
[2016-03-29 17:45:03,256][INFO ][transport                ] [Vamp] publish_address {127.0.0.1:50031}, bound_addresses {[fe80::1]:50029}, {[::1]:50030}, {127.0.0.1:50031}
[2016-03-29 17:45:03,263][INFO ][discovery                ] [Vamp] plugins_mapper-attachments_integTest/__wTcJ-_SXenAEW88PF3fA
[2016-03-29 17:45:06,286][INFO ][cluster.service          ] [Vamp] new_master {Vamp}{__wTcJ-_SXenAEW88PF3fA}{127.0.0.1}{127.0.0.1:50031}[testattr=>test], reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-03-29 17:45:06,301][INFO ][http                     ] [Vamp] publish_address {127.0.0.1:50044}, bound_addresses {[fe80::1]:50042}, {[::1]:50043}, {127.0.0.1:50044}
[2016-03-29 17:45:06,304][INFO ][node                     ] [Vamp] started
[2016-03-29 17:45:06,313][INFO ][gateway                  ] [Vamp] recovered [0] indices into cluster_state
[2016-03-29 17:45:08,228][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:08,401][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4]] ...]).
[2016-03-29 17:45:09,391][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:09,427][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4], [test][4]] ...]).
[2016-03-29 17:45:09,499][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:09,532][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4]] ...]).
[2016-03-29 17:45:09,599][WARN ][org.apache.pdfbox.pdfparser.BaseParser] Specified stream length 314 is wrong. Fall back to reading stream until 'endstream'.
[2016-03-29 17:45:09,602][WARN ][org.apache.pdfbox.pdfparser.XrefTrailerResolver] Did not found XRef object at specified startxref position 14122
[2016-03-29 17:45:09,603][WARN ][org.apache.pdfbox.pdfparser.PDFParser] /Length of COSObject{2, 0} corrected from 186 to 161
[2016-03-29 17:45:09,603][WARN ][org.apache.pdfbox.pdfparser.PDFParser] /Length of COSObject{7, 0} corrected from 11872 to 10278
[2016-03-29 17:45:09,603][INFO ][org.apache.pdfbox.pdfparser.PDFParser] Document is encrypted
[2016-03-29 17:45:10,231][INFO ][cluster.metadata         ] [Vamp] [test] update_mapping [doc]
[2016-03-29 17:45:10,237][WARN ][org.apache.pdfbox.pdfparser.BaseParser] Specified stream length 314 is wrong. Fall back to reading stream until 'endstream'.
[2016-03-29 17:45:10,238][WARN ][org.apache.pdfbox.pdfparser.XrefTrailerResolver] Did not found XRef object at specified startxref position 14122
[2016-03-29 17:45:10,238][WARN ][org.apache.pdfbox.pdfparser.PDFParser] /Length of COSObject{2, 0} corrected from 186 to 161
[2016-03-29 17:45:10,238][WARN ][org.apache.pdfbox.pdfparser.PDFParser] /Length of COSObject{7, 0} corrected from 11872 to 10278
[2016-03-29 17:45:10,238][INFO ][org.apache.pdfbox.pdfparser.PDFParser] Document is encrypted
[2016-03-29 17:45:10,311][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:10,338][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4]] ...]).
[2016-03-29 17:45:10,397][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:10,421][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4], [test][4]] ...]).
[2016-03-29 17:45:10,426][DEBUG][action.index             ] [Vamp] failed to execute [index {[test][doc][1], source[{"file":{}}]}] on [[test][3]]
MapperParsingException[No content is provided.]
	at org.elasticsearch.mapper.attachments.AttachmentMapper.parse(AttachmentMapper.java:465)
	at org.elasticsearch.index.mapper.DocumentParser.parseObjectOrField(DocumentParser.java:292)
	at org.elasticsearch.index.mapper.DocumentParser.parseObject(DocumentParser.java:309)
	at org.elasticsearch.index.mapper.DocumentParser.parseObject(DocumentParser.java:236)
	at org.elasticsearch.index.mapper.DocumentParser.parseDocument(DocumentParser.java:111)
	at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:286)
	at org.elasticsearch.index.shard.IndexShard.prepareIndex(IndexShard.java:458)
	at org.elasticsearch.index.shard.IndexShard.prepareIndexOnPrimary(IndexShard.java:440)
	at org.elasticsearch.action.index.TransportIndexAction.prepareIndexOperationOnPrimary(TransportIndexAction.java:195)
	at org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:203)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:156)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:64)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:45:10,428][INFO ][rest.suppressed          ] /test/doc/1 Params: {index=test, id=1, type=doc}
RemoteTransportException[[Vamp][127.0.0.1:50031][indices:data/write/index[p]]]; nested: MapperParsingException[No content is provided.];
Caused by: MapperParsingException[No content is provided.]
	at org.elasticsearch.mapper.attachments.AttachmentMapper.parse(AttachmentMapper.java:465)
	at org.elasticsearch.index.mapper.DocumentParser.parseObjectOrField(DocumentParser.java:292)
	at org.elasticsearch.index.mapper.DocumentParser.parseObject(DocumentParser.java:309)
	at org.elasticsearch.index.mapper.DocumentParser.parseObject(DocumentParser.java:236)
	at org.elasticsearch.index.mapper.DocumentParser.parseDocument(DocumentParser.java:111)
	at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:286)
	at org.elasticsearch.index.shard.IndexShard.prepareIndex(IndexShard.java:458)
	at org.elasticsearch.index.shard.IndexShard.prepareIndexOnPrimary(IndexShard.java:440)
	at org.elasticsearch.action.index.TransportIndexAction.prepareIndexOperationOnPrimary(TransportIndexAction.java:195)
	at org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:203)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:156)
	at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:64)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:602)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:272)
	at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:269)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:65)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:342)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[2016-03-29 17:45:10,457][INFO ][cluster.metadata         ] [Vamp] [test] creating index, cause [api], templates [], shards [5]/[1], mappings [doc]
[2016-03-29 17:45:10,478][INFO ][cluster.routing.allocation] [Vamp] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[test][4], [test][4]] ...]).
